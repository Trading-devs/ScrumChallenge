<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/layout.css') }}"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>

    <script defer type="text/javascript">
      timeLeft = '{{ countdown }}';
    </script>
    <script
      defer
      type="text/javascript"
      src="{{ url_for('static', filename='js/layout.js') }}"
    ></script>

    <title>{{ data.currency }} | Currency App</title>
  </head>

  <body>
    <div class="sidebar">
      <div class="logo">
        <h1>Currency <span>App</span></h1>
      </div>

      <ul class="coins">
        <!-- <li class="coin coin--currency" data-id="1234567890">
          <h2 class="coin__title">Endava</h2>
          <div class="coin__details">
            <span class="coin__icon">üèÉ‚Äç‚ôÇÔ∏è</span>
            <span class="coin__value">5.2</span>
            <span class="coin__unit">km</span>
          </div>
          <div class="coin__details">
            <span class="coin__icon">‚è±</span>
            <span class="coin__value">24</span>
            <span class="coin__unit">min</span>
          </div>
          <div class="coin__details">
            <span class="coin__icon">‚ö°Ô∏è</span>
            <span class="coin__value">4.6</span>
            <span class="coin__unit">min/km</span>
          </div>
          <div class="coin__details">
            <span class="coin__icon">ü¶∂üèº</span>
            <span class="coin__value">178</span>
            <span class="coin__unit">spm</span>
          </div>
        </li>

        <li class="coin coin--cryptocurrency" data-id="1234567891">
          <h2 class="coin__title">Bitcoin</h2>
          <div class="coin__details">
            <span class="coin__icon">üö¥‚Äç‚ôÄÔ∏è</span>
            <span class="coin__value">27</span>
            <span class="coin__unit">km</span>
          </div>
          <div class="coin__details">
            <span class="coin__icon">‚è±</span>
            <span class="coin__value">95</span>
            <span class="coin__unit">min</span>
          </div>
          <div class="coin__details">
            <span class="coin__icon">‚ö°Ô∏è</span>
            <span class="coin__value">16</span>
            <span class="coin__unit">km/h</span>
          </div>
          <div class="coin__details">
            <span class="coin__icon">‚õ∞</span>
            <span class="coin__value">223</span>
            <span class="coin__unit">m</span>
          </div>
        </li> -->

        <li class="coin coin--currency" data-id="1234567890">
          <a class="coin__link" href="dava">
            <h2 class="coin__title">Endava (DAVA)</h2>
          </a>
        </li>

        <li class="coin coin--currency" data-id="1234567890">
          <a class="coin__link" href="ec">
            <h2 class="coin__title">Ecopetrol (EC)</h2>
          </a>
        </li>

        <li class="coin coin--currency" data-id="1234567890">
          <a class="coin__link" href="ibm">
            <h2 class="coin__title">IBM (IBM)</h2>
          </a>
        </li>

        <li class="coin coin--cryptocurrency" data-id="1234567890">
          <a class="coin__link" href="btc">
            <h2 class="coin__title">Bitcoin (BTC)</h2>
          </a>
        </li>

        <li class="coin coin--cryptocurrency" data-id="1234567890">
          <a class="coin__link" href="eth">
            <h2 class="coin__title">Ethereum (ETH)</h2>
          </a>
        </li>

        <li class="coin coin--cryptocurrency" data-id="1234567890">
          <a class="coin__link" href="ada">
            <h2 class="coin__title">Cardano (ADA)</h2>
          </a>
        </li>
      </ul>

      <p class="copyright">&copy; Copyright 2022</p>
    </div>

    <div class="container-table">
      <table class="table">
        <thead class="table__head">
          <tr>
            <th class="table__title" colspan="1">
              {{ data.currency }} ({{ data.abbreviation }})
            </th>

            <th class="table__countdown" colspan="2">
              ‚è≤ Next update in <span class="timer">5:00</span> min
            </th>
          </tr>

          <tr class="table__labels">
            <th class="column--1">üìÖ Date and Hour</th>
            <th class="column--2">üí∞ Price</th>
            <th class="column--3">‚ö° Volume</th>
          </tr>
        </thead>

        <tbody class="table__body">
          {% for document in data.documents %}
          <tr>
            <td class="column--1">{{ document.date }}</td>
            <td class="column--2">{{ document.price }}</td>
            <td class="column--3">{{ document.volume }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="container-table">
      
        <canvas id="lineChart" width="500" height="630" ></canvas>
        <script>
          console.log('hola');
            var ctx = document.getElementById("lineChart").getContext("2d");
            var lineChart = new Chart(ctx, {
                type: "line",
                data: {
                    labels: {{ labels | safe }},
                    datasets: [
                        {
                         label: "Stock Price",
                        data: {{ values | safe }},
                        fill: false,
                        borderColor: "rgb(75 , 192, 192)",
                        lineTension: 0.1
                        }      
                    ]
                },
                Options: {
                    responsive: true
                }
            });
        </script>
      
    </div>



  </body>
</html>
